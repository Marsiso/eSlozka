@using Microsoft.Extensions.Localization
@inherits eSlozka.Application.ViewModels.PageComponentBase<eSlozka.Application.ViewModels.Components.Forms.LoginFormViewModel>

@inject IStringLocalizer<App> Localizer

<MudBreakpointProvider>
    <MudHidden Breakpoint="Breakpoint.Xs" IsHiddenChanged="hidden => Model.HasMobileDeviceViewPortWidth = hidden">
    </MudHidden>
</MudBreakpointProvider>

<MudCard Style="@Model.GetComponentWidth()">
    <MudForm>
        <MudCardMedia Image="img/space-rocket-background.svg"></MudCardMedia>
        <MudCardHeader Class="px-8 pt-8">
            <MudText Typo="Typo.h5" Color="Color.Surface">@Localizer["LoginFormTitle"]</MudText>
        </MudCardHeader>
        <MudCardContent Class="pa-8">
            <!-- TODO: Add debounce. -->
            <!-- TODO: Add validation. -->
            <MudTextField @bind-Value="Model.Form.Email"
                          For="@(() => Model.Form.Email)"
                          Immediate="true"
                          Label="@Localizer["LoginFormEmailInputLabel"]"
                          InputType="InputType.Email"
                          Placeholder="peter.novotny@centrum.cz"
                          MaxLength="256"
                          Required="true"
                          RequiredError="@Localizer["LoginFormEmailInputPasswordRequiredError"]"/>

            <!-- TODO: Add debounce. -->
            <!-- TODO: Add validation. -->
            <MudTextField @bind-Value="Model.Form.Password"
                          For="@(() => Model.Form.Password)"
                          Immediate="true"
                          Label="@Localizer["LoginFormPasswordInputLabel"]"
                          InputType="@Model.PasswordInputType"
                          MaxLength="256"
                          Adornment="Adornment.End"
                          AdornmentIcon="@Model.PasswordInputIcon"
                          OnAdornmentClick="@Model.OnPasswordInputShowPasswordClick"
                          AdornmentAriaLabel="@Localizer["LoginFormPasswordInputShowPasswordAriaLabel"]"
                          Required="true"
                          RequiredError="@Localizer["LoginFormPasswordInputPasswordRequiredError"]"/>
        </MudCardContent>
        <MudCardActions Class="px-8 pb-8">
            <MudStack Class="flex flex-grow-1" Row="true" Justify="Justify.FlexEnd">
                <MudButton Variant="Variant.Filled" ButtonType="ButtonType.Button">@Localizer["LoginFormLoginButton"]</MudButton>
                <MudButton Variant="Variant.Text" ButtonType="ButtonType.Button">@Localizer["LoginFormRegisterButton"]</MudButton>
            </MudStack>
        </MudCardActions>
    </MudForm>
</MudCard>
